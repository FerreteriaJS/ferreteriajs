<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>FerreteriaJS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.css">
    <link rel="stylesheet" href="App.css">
</head>
<body>
    <h1>Cargando...</h1>
    <script>

        async function loadWeb(){
            const rootElement = document.getElementsByTagName('body')[0];
            const response = await fetch('./App.html');
            const appHTML = await response.text();
            rootElement.innerHTML = appHTML;
            const appScript = document.createElement('script');
            appScript.type = 'module';
            appScript.src = './App.js';
            rootElement.appendChild(appScript);
        }

        async function handleClick(pathString) {
            const currentPath = sessionStorage.getItem('currentPath') ;
            if (currentPath !== pathString) {
                sessionStorage.setItem('currentPath', pathString);
            }
            window.location.reload();
        }
        

        window.onload = () => {
            if (!sessionStorage.getItem('currentPath')) {
                sessionStorage.setItem('currentPath', 'Home');
                window.location.pathname = '/';
            }
            let storagePath = sessionStorage.getItem('currentPath');
            document.title = `FerreteriaJS - ${storagePath}`;
            loadWeb();
        }
        
    </script>
    <!--script src="App.js" type="module"></script-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.js"></script>
</body>
</html>